<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Météo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../ressources/logo-serre.png" type="image/png">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <div><strong>Serre Connectée</strong></div>
        <nav>
            <a href="../index.html" >Accueil</a>
            <a href="meteo.html" class="active">Météo</a>
            <a href="historique.html" >Historique</a>
        </nav>
    </header>

    <h1>Bienvenue sur la page météo</h1>
    
    <div class="container">
        <div class="section semaine indicators">
            <div class="lundi indicator">Lundi</div>
            <div class="mardi indicator">Mardi</div>
            <div class="mercredi indicator">Mercredi</div>
            <div class="jeudi indicator">Jeudi</div>
            <div class="vendredi indicator">Vendredi</div>
            <div class="samedi indicator">Samedi</div>
            <div class="dimanche indicator">Dimanche</div>
        </div>
    </div>

    <div class="section meteo indicators">
        <div class="matin indicator">Matin</div>
        <div class="apres midi indicator">Après-midi</div>
        <p id="weather"></p>
    </div>

    <div>
        <div class="graphique"></div>
    </div>

    <script>
        const apiKey = "9dfc4dffd747d7c4e7aa04385576c3a7"; // clé api obtenue
        const city = "Limoges";
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&lang=fr&appid=${apiKey}`;

        fetch(url)
        .then(response => response.json())
        .then(data => {
            //const temp = data.main.temp;
            //const desc = data.weather[0].description;
            document.getElementById("weather").textContent = response;
        })
        .catch(error => {
            document.getElementById("weather").textContent = "Erreur : " + error.message;
        });
    </script>

    <script src="../scripts/cacheLocal.js"></script>
</body>
</html>